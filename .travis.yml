language: csharp
solution: libsodium-net.sln
git:
  depth: 3

matrix:
  include:
    - dotnet: 1.0.1
      mono: none
      dist: trusty
      os:
      - linux
      - osx
      env:
      - CFG=CORE
      - TRAVIS_OS_UNAME=$(uname -s)
    - mono: 5.0
      os:
      - linux
      - osx
      env:
      - CFG=MONO
      - TRAVIS_OS_UNAME=$(uname -s)
    - dotnet: 1.0.1
      mono: none
      dist: trusty
      os:
      - osx
      env:
      - CFG=CORE
      - TRAVIS_OS_UNAME=$(uname -s)
    - mono: 5.0
      os:
      - osx
      env:
      - CFG=MONO
      - TRAVIS_OS_UNAME=$(uname -s)

install:
 - ./travis/install.sh

before_script:
 - if [ "$TEST" -eq "MONO" ] then ./travis/build-libsodium.sh fi

script:
 - ./travis/build.sh
 - ./travis/test.sh
